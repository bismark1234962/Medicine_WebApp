<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Appointments · Medicine Barber</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="page appointments">
    <header class="top-bar secondary">
      <button
        class="icon-btn"
        aria-label="Go back"
        data-nav="back"
        type="button"
        onclick="if (window.history.length > 1) { window.history.back(); } else { window.location.href='index.html'; }"
      >
        <span class="material-symbol">arrow_back</span>
      </button>
      <h1>Appointments</h1>
      <button
        class="profile-btn"
        aria-label="Account"
        type="button"
        onclick="window.location.href='login.html'"
      >
        <span class="material-symbol">person</span>
      </button>
    </header>

    <section class="appointments-tabs">
      <button class="appt-tab active" data-view="upcoming">Upcoming</button>
      <button class="appt-tab" data-view="past">Past</button>
    </section>

    <section class="appointments-content">
      <!-- Appointments List Container -->
      <div class="appointments-list" id="upcomingAppointments" data-view="upcoming"></div>
      <div class="appointments-list hidden" id="pastAppointments" data-view="past"></div>

      <!-- Empty States -->
      <article class="empty-state" data-view="upcoming" id="upcomingEmpty">
        <h2>No appointments found</h2>
        <p>
          You don't have any upcoming appointments. Log in with the phone number you
          used to book, or schedule a new visit below.
        </p>
        <button class="primary-btn book-btn" type="button">Book appointment</button>
      </article>

      <article class="empty-state hidden" data-view="past" id="pastEmpty">
        <h2>Nothing to show</h2>
        <p>
          Past appointments will appear here once you've completed a visit with Medicine
          Barber.
        </p>
        <button class="primary-btn book-btn" type="button">Book again</button>
      </article>
    </section>

    <!-- Booking Modal -->
    <div class="booking-modal hidden" id="bookingModal">
      <div class="modal-overlay" id="modalOverlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Book an appointment</h2>
          <button class="icon-btn close-modal" aria-label="Close">
            <span class="material-symbol">close</span>
          </button>
        </div>
        <form id="bookingForm" class="booking-form">
          <div class="form-group">
            <label for="serviceSelect">Service</label>
            <select id="serviceSelect" required>
              <option value="">Select a service</option>
              <option value="Signature fade">Signature fade - GH₵30 (45 min)</option>
              <option value="Classic gentleman cut">Classic gentleman cut - GH₵35 (50 min)</option>
              <option value="Kids cut (12 & under)">Kids cut (12 & under) - GH₵22 (35 min)</option>
              <option value="Beard sculpt + hot towel">Beard sculpt + hot towel - GH₵25 (30 min)</option>
              <option value="Traditional razor shave">Traditional razor shave - GH₵28 (35 min)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="barberSelect">Barber</label>
            <select id="barberSelect" required>
              <option value="">Select a barber</option>
              <option value="Medicine Barber">Medicine Barber</option>
            </select>
          </div>

          <div class="form-group">
            <label for="dateInput">Date</label>
            <input type="date" id="dateInput" required />
          </div>

          <div class="form-group">
            <label for="timeInput">Time</label>
            <select id="timeInput" required>
              <option value="">Select a time</option>
              <option value="08:00">8:00 AM</option>
              <option value="08:30">8:30 AM</option>
              <option value="09:00">9:00 AM</option>
              <option value="09:30">9:30 AM</option>
              <option value="10:00">10:00 AM</option>
              <option value="10:30">10:30 AM</option>
              <option value="11:00">11:00 AM</option>
              <option value="11:30">11:30 AM</option>
              <option value="12:00">12:00 PM</option>
              <option value="12:30">12:30 PM</option>
              <option value="13:00">1:00 PM</option>
              <option value="13:30">1:30 PM</option>
              <option value="14:00">2:00 PM</option>
              <option value="14:30">2:30 PM</option>
              <option value="15:00">3:00 PM</option>
              <option value="15:30">3:30 PM</option>
              <option value="16:00">4:00 PM</option>
              <option value="16:30">4:30 PM</option>
              <option value="17:00">5:00 PM</option>
              <option value="17:30">5:30 PM</option>
              <option value="18:00">6:00 PM</option>
              <option value="18:30">6:30 PM</option>
              <option value="19:00">7:00 PM</option>
              <option value="19:30">7:30 PM</option>
              <option value="20:00">8:00 PM</option>
              <option value="20:30">8:30 PM</option>
            </select>
          </div>

          <div class="form-group">
            <label for="notesInput">Notes (optional)</label>
            <textarea id="notesInput" placeholder="Any special requests or notes..." rows="3"></textarea>
          </div>

          <button type="submit" class="primary-btn" id="submitBooking">Confirm booking</button>
        </form>
      </div>
    </div>

    <div class="appointments-hero" aria-hidden="true"></div>

    <nav class="bottom-nav">
      <a href="index.html">
        <span class="material-symbol">home</span>
        <span>Home</span>
      </a>
      <a href="#locations">
        <span class="material-symbol">location_on</span>
        <span>Locations</span>
      </a>
      <button class="fab book-btn" aria-label="Book appointment">
        <span class="material-symbol">add</span>
      </button>
      <a href="appointments.html" class="active-link">
        <span class="material-symbol">calendar_month</span>
        <span>Appointments</span>
      </a>
      <a href="#about">
        <span class="material-symbol">info</span>
        <span>About</span>
      </a>
    </nav>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>
    
    <!-- Auth Module -->
    <script src="auth.js"></script>
    
    <!-- Appointments DB Module -->
    <script src="appointments-db.js"></script>
    
    <script src="scripts.js"></script>
  </body>
</html>

