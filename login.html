<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login · Medicine Barber</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="page auth-page">
    <header class="top-bar secondary">
      <button
        class="icon-btn"
        aria-label="Go back"
        data-nav="back"
        type="button"
        onclick="if (window.history.length > 1) { window.history.back(); } else { window.location.href='index.html'; }"
      >
        <span class="material-symbol">arrow_back</span>
      </button>
      <h1>Account access</h1>
      <span class="top-bar-spacer"></span>
    </header>

    <main class="auth-container">
      <section class="auth-panel">
        <p class="auth-subtitle">
          Log in or create a profile to manage bookings, reminders, and preferences.
        </p>

        <div class="auth-tabs" role="tablist">
          <button
            class="auth-tab active"
            data-tab="login"
            role="tab"
            aria-selected="true"
            type="button"
            onclick="switchAuthTab('login')"
          >
            Log in
          </button>
          <button
            class="auth-tab"
            data-tab="signup"
            role="tab"
            aria-selected="false"
            type="button"
            onclick="switchAuthTab('signup')"
          >
            Sign up
          </button>
        </div>

        <form class="auth-form" data-form="login">
          <label>Email
            <input type="email" placeholder="you@email.com" required />
          </label>
          <label>Password
            <div class="password-field">
              <input id="loginPassword" type="password" placeholder="••••••••" required />
            </div>
            <label class="show-password-label">
              <span>Show password</span>
              <input
                type="checkbox"
                onchange="togglePassword('loginPassword', this.checked)"
              />
            </label>
          </label>
          <button class="primary-btn" type="submit">Log in</button>
          <button class="link-btn" type="button">Forgot password?</button>
        </form>

        <form class="auth-form hidden" data-form="signup">
          <label>Full name
            <input type="text" placeholder="Enter your name" required />
          </label>
          <label>Email
            <input type="email" placeholder="you@email.com" required />
          </label>
          <label>Phone number
            <input type="tel" placeholder="+233 54 140 9060" required />
          </label>
          <label>Password
            <div class="password-field">
              <input
                id="signupPassword"
                type="password"
                placeholder="Create a password"
                required
              />
            </div>
            <label class="show-password-label">
              <span>Show password</span>
              <input
                type="checkbox"
                onchange="togglePassword('signupPassword', this.checked)"
              />
            </label>
          </label>
          <button class="primary-btn" type="submit">Create account</button>
        </form>
      </section>
    </main>

    <nav class="bottom-nav">
      <a href="index.html">
        <span class="material-symbol">home</span>
        <span>Home</span>
      </a>
      <a href="appointments.html">
        <span class="material-symbol">calendar_month</span>
        <span>Appointments</span>
      </a>
      <button class="fab book-btn" aria-label="Book appointment">
        <span class="material-symbol">add</span>
      </button>
      <a href="#services">
        <span class="material-symbol">content_cut</span>
        <span>Services</span>
      </a>
      <a href="#about">
        <span class="material-symbol">info</span>
        <span>About</span>
      </a>
    </nav>

    <script>
      function switchAuthTab(target) {
        const tabs = document.querySelectorAll('.auth-tab');
        const forms = document.querySelectorAll('.auth-form');

        tabs.forEach((tab) => {
          const isActive = tab.dataset.tab === target;
          tab.classList.toggle('active', isActive);
          tab.setAttribute('aria-selected', isActive ? 'true' : 'false');
        });

        forms.forEach((form) => {
          const isTarget = form.dataset.form === target;
          form.classList.toggle('hidden', !isTarget);
        });
      }

      function togglePassword(inputId, isChecked) {
        const input = document.getElementById(inputId);
        if (!input) return;
        input.type = isChecked ? 'text' : 'password';
      }
    </script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>
    
    <!-- Auth Module -->
    <script src="auth.js"></script>
    
    <!-- Appointments DB Module -->
    <script src="appointments-db.js"></script>
    
    <script src="scripts.js"></script>
  </body>
</html>

